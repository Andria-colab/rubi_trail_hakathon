<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1.0,maximum-scale=1.0,user-scalable=no" />
  <title>Rubi Trail</title>

  <!-- âœ… Correct paths when Flask serves static_folder="frontend" -->
  <link rel="stylesheet" href="/style.css" />

  <link rel="stylesheet" href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css" />
</head>

<body>

  <div class="loading" id="loading">
    <div class="spinner"></div>
    <div>Loading...</div>
  </div>

  <header>
    <div class="app-title">
      <!-- NOTE: this image path will only work if you also serve /Images -->
      <img src="/Images/logo_PNG.png" class="app-logo" />
      Rubi Trail
    </div>

    <div class="coin-balance">
      0 <div class="coin-icon"></div>
    </div>
  </header>

  <main>
    <section id="scan-view" class="view-section active">
      <video id="camera-stream" autoplay playsinline muted></video>
      <div class="scan-overlay">
        <div class="scan-text">Align the QR code inside the frame</div>
        <div class="scan-frame"></div>
      </div>
    </section>

    <section id="discover-view" class="view-section">
      <!-- your existing cards -->
      <!-- keep as-is -->
    </section>

    <section id="rewards-view" class="view-section">
      <!-- your existing rewards cards + BUY buttons -->
      <!-- keep as-is -->
    </section>

    <section id="map-view" class="view-section">
      <div id="map"></div>
    </section>
  </main>

  <nav>
    <a href="#" class="nav-item active" onclick="switchTab('scan-view', this)"><span class="nav-icon">ğŸ“·</span>Scan</a>
    <a href="#" class="nav-item" onclick="switchTab('discover-view', this)"><span class="nav-icon">ğŸ”</span>Discover</a>
    <a href="#" class="nav-item" onclick="switchTab('rewards-view', this)"><span class="nav-icon">ğŸ†</span>Rewards</a>
    <a href="#" class="nav-item" onclick="switchTab('map-view', this)"><span class="nav-icon">ğŸ—ºï¸</span>Map</a>
  </nav>

  <script src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/jsqr@1.4.0/dist/jsQR.js"></script>

  <!-- âœ… REQUIRED for Telegram Mini App -->
  <script src="https://telegram.org/js/telegram-web-app.js"></script>

  <!-- âœ… Correct path -->
  <script src="/script.js"></script>
</body>
</html>
